#!/usr/bin/env python3
"""Importer configuration for a Vanguard account.
"""
from ledgerhub.importers.generic import ofx_invest
from ledgerhub.scripts.run import main

CONFIG = [

    #
    # Vanguard
    #
    #   Home >> Plan Summary >> Transaction History
    #   Select: "View by:" Both
    #   Click on Download.
    #   Select "Download each fund in separate Quicken or Money accounts."
    #   Click on Quicken.

    (('FileType: application/x-ofx', r'Vanguard', '<ACCTID>'),
     ofx_invest.Importer({
         'FILE'                : 'Assets:US:Vanguard:PreTax401k',
         'asset_pretax'        : 'Assets:US:Vanguard:PreTax401k',
         'asset_pretax_cash'   : 'Assets:US:Vanguard:PreTax401k:Cash',
         'asset_aftertax'      : 'Assets:US:Vanguard:AfterTax401k',
         'asset_aftertax_cash' : 'Assets:US:Vanguard:AfterTax401k:Cash',
         'asset_match'         : 'Assets:US:Vanguard:Match401k',
         'asset_match_cash'    : 'Assets:US:Vanguard:Match401k:Cash',
         'asset_rollover'      : 'Assets:US:Vanguard:Rollover',
         'asset_rollover_cash' : 'Assets:US:Vanguard:Rollover:Cash',
         'asset_balances'      : 'Assets:US:Vanguard',
         'income_match'        : 'Income:US:GoogleInc:Match401k',
         'dividend'            : 'Income:US:Vanguard:Dividend',
         'fees'                : 'Expenses:Financial:Fees:Vanguard',
     })),
]

main(CONFIG, __file__.replace('.import', '.beancount'))
